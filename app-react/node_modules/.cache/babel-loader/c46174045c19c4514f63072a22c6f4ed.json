{"ast":null,"code":"var _jsxFileName = \"/home/utilisateur/village_emploi/fullstack/crm/src/components/App.js\";\nimport React from 'react';\nimport firebase from '../firebase';\nimport Grid from './Grid';\nimport Form from './Form';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      contacts: []\n    };\n  }\n\n  updateData() {\n    const db = firebase.firestore;\n    const settings = {\n      timestampsInSnapshots: true\n    };\n    db.settings(settings);\n    db.collection('contacts').get().then(snapshot => {\n      let contacts = [];\n      snapshot.forEach(doc => {\n        let contact = Object.assign({\n          id: doc.id\n        }, doc.data());\n        contacts.push(contact);\n      });\n      this.setState({\n        contacts: contacts\n      });\n    }).catch(err => {\n      console.log(\"Erreur!\", err);\n    });\n  }\n\n  componentWillMount() {\n    this.updateData();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navbar-fixed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"blue lighten-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nav-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/\",\n      className: \"brand-logo  center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, \" Contacts Team \")))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      items: this.state.contacts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/utilisateur/village_emploi/fullstack/crm/src/components/App.js"],"names":["React","firebase","Grid","Form","App","Component","constructor","props","state","contacts","updateData","db","firestore","settings","timestampsInSnapshots","collection","get","then","snapshot","forEach","doc","contact","Object","assign","id","data","push","setState","catch","err","console","log","componentWillMount","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,IAAP,MAAiB,QAAjB;;AAEA,MAAMC,GAAN,SAAkBJ,KAAK,CAACK,SAAxB,CAAkC;AAEhCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE;AADC,KAAb;AAGD;;AAEDC,EAAAA,UAAU,GAAG;AACX,UAAMC,EAAE,GAAEV,QAAQ,CAACW,SAAnB;AACA,UAAMC,QAAQ,GAAG;AAAEC,MAAAA,qBAAqB,EAAE;AAAzB,KAAjB;AACAH,IAAAA,EAAE,CAACE,QAAH,CAAYA,QAAZ;AAEAF,IAAAA,EAAE,CAACI,UAAH,CAAc,UAAd,EAA0BC,GAA1B,GACCC,IADD,CACOC,QAAD,IAAc;AAClB,UAAIT,QAAQ,GAAG,EAAf;AACAS,MAAAA,QAAQ,CAACC,OAAT,CAAkBC,GAAD,IAAS;AACxB,YAAIC,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAc;AAACC,UAAAA,EAAE,EAAEJ,GAAG,CAACI;AAAT,SAAd,EAA4BJ,GAAG,CAACK,IAAJ,EAA5B,CAAd;AACAhB,QAAAA,QAAQ,CAACiB,IAAT,CAAcL,OAAd;AACD,OAHD;AAIA,WAAKM,QAAL,CAAc;AACZlB,QAAAA,QAAQ,EAAEA;AADE,OAAd;AAGD,KAVD,EAWCmB,KAXD,CAWQC,GAAD,IAAS;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,GAAvB;AACD,KAbD;AAcD;;AAEDG,EAAAA,kBAAkB,GAAG;AACnB,SAAKtB,UAAL;AACD;;AAEDuB,EAAAA,MAAM,GAAG;AAET,wBAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,oBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CADF,CADF,CADF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAI,KAAKzB,KAAL,CAAWC,QAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CATF,CAFF;AAkBC;;AAtD+B;;AA0DlC,eAAeL,GAAf","sourcesContent":["import React from 'react';\nimport firebase from '../firebase';\nimport Grid from './Grid';\nimport Form from './Form';\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      contacts: []\n    };\n  }\n\n  updateData() {\n    const db =firebase.firestore;\n    const settings = { timestampsInSnapshots: true };\n    db.settings(settings);\n    \n    db.collection('contacts').get()\n    .then((snapshot) => {\n      let contacts = [];\n      snapshot.forEach((doc) => {\n        let contact = Object.assign({id: doc.id}, doc.data());\n        contacts.push(contact);\n      });\n      this.setState({\n        contacts: contacts,\n      })\n    })\n    .catch((err) => {\n      console.log(\"Erreur!\", err);\n    })\n  }\n\n  componentWillMount() {\n    this.updateData();\n  }\n\n  render() {\n\n  return (\n\n    <div>\n      <div className=\"navbar-fixed\">\n        <nav className=\"blue lighten-2\">\n          <div className=\"nav-wrapper\">\n            <a href=\"/\" className=\"brand-logo  center\"> Contacts Team </a>\n          </div>\n        </nav>\n      </div>\n\n      <div>\n        <Form/>\n        <Grid items = {this.state.contacts} />\n      </div>\n    </div>\n  );\n\n  }\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}