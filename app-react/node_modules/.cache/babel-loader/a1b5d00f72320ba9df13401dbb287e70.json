{"ast":null,"code":"var _jsxFileName = \"/home/utilisateur/village_emploi/fullstack/crm/src/components/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport firebase from '../firebase';\nimport Grid from './Grid';\nimport Form from './Form';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      contacts: []\n    };\n  }\n\n  updateData() {\n    const db = firebase.firestore(); //const settings = {timestampsInSnapshots: true};\n    //db.settings(settings);\n\n    db.collection('contacts').get().then(snapshot => {\n      let contacts = [];\n      snapshot.forEach(doc => {\n        let contact = Object.assign({\n          id: doc.id\n        }, doc.data());\n        contacts.push(contact);\n      });\n      this.setState({\n        contacts: contacts\n      });\n    }).catch(err => {\n      console.log('Erreur!', err);\n    });\n  }\n\n  componentWillMount() {\n    this.updateData();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navbar-fixed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"blue lighten-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nav-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/\",\n      className: \"brand-logo center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 15\n      }\n    }, \"Contacts\")))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      updateData: this.updateData.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      items: this.state.contacts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/utilisateur/village_emploi/fullstack/crm/src/components/App.js"],"names":["React","Component","firebase","Grid","Form","App","constructor","props","state","contacts","updateData","db","firestore","collection","get","then","snapshot","forEach","doc","contact","Object","assign","id","data","push","setState","catch","err","console","log","componentWillMount","render","bind"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,IAAP,MAAiB,QAAjB;;AAEA,MAAMC,GAAN,SAAkBJ,SAAlB,CAA4B;AAC1BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE;AADC,KAAb;AAGD;;AAEHC,EAAAA,UAAU,GAAG;AACX,UAAMC,EAAE,GAAGT,QAAQ,CAACU,SAAT,EAAX,CADW,CAEX;AACA;;AAEAD,IAAAA,EAAE,CAACE,UAAH,CAAc,UAAd,EAA0BC,GAA1B,GACGC,IADH,CACSC,QAAD,IAAc;AAClB,UAAIP,QAAQ,GAAG,EAAf;AACAO,MAAAA,QAAQ,CAACC,OAAT,CAAkBC,GAAD,IAAS;AACxB,YAAIC,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAc;AAACC,UAAAA,EAAE,EAAEJ,GAAG,CAACI;AAAT,SAAd,EAA6BJ,GAAG,CAACK,IAAJ,EAA7B,CAAd;AACAd,QAAAA,QAAQ,CAACe,IAAT,CAAcL,OAAd;AACD,OAHD;AAIA,WAAKM,QAAL,CAAc;AACZhB,QAAAA,QAAQ,EAAEA;AADE,OAAd;AAGD,KAVH,EAWGiB,KAXH,CAWUC,GAAD,IAAS;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,GAAvB;AACD,KAbH;AAcC;;AAEDG,EAAAA,kBAAkB,GAAG;AACnB,SAAKpB,UAAL;AACD;;AAEDqB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,SAAS,EAAC,mBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CADF,CADF,CADF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,UAAU,EAAE,KAAKrB,UAAL,CAAgBsB,IAAhB,CAAqB,IAArB,CAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE,KAAKxB,KAAL,CAAWC,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CARF,CADF;AAeD;;AAjDyB;;AAoD5B,eAAeJ,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport firebase from '../firebase';\nimport Grid from './Grid';\nimport Form from './Form';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      contacts: []\n     };\n  }\n\nupdateData() {\n  const db = firebase.firestore();\n  //const settings = {timestampsInSnapshots: true};\n  //db.settings(settings);\n\n  db.collection('contacts').get()\n    .then((snapshot) => {\n      let contacts = [];\n      snapshot.forEach((doc) => {\n        let contact = Object.assign({id: doc.id }, doc.data());\n        contacts.push(contact);\n      });\n      this.setState({\n        contacts: contacts\n      });\n    })\n    .catch((err) => {\n      console.log('Erreur!', err); \n    });\n  }  \n\n  componentWillMount() {\n    this.updateData();\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"navbar-fixed\">\n          <nav className=\"blue lighten-2\">\n            <div className=\"nav-wrapper\">\n              <a href=\"/\" className=\"brand-logo center\">Contacts</a>\n            </div>\n          </nav>\n        </div>\n        <div>\n          <Form updateData={this.updateData.bind(this)}/>\n          <Grid items={this.state.contacts}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}